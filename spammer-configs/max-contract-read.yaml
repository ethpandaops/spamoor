# Name: Max contract read spammer
# Description: Spammer to read massive amounts of bytecode from deployed contracts in single txs
# Tags: performance, max-gas
# Min_Version: v1.1.5
- scenario: calltx
  name: Massive contract reading (attack)
  description: Attack scenario to read massive amounts of bytecode from the deployed contracts in single txs
  config:
    amount: 0
    base_fee: 20
    call_abi: ""
    call_abi_file: ""
    call_args: |
        [
          "{factory_address}",
          "0xd460cc495871354ee2576f8b7cd3167668e449ce81b438dc568bc65072798e4f",
          1000,
          10000
        ]
    call_data: ""
    call_fn_name: ""
    call_fn_sig: lastByteAttack(address,bytes32,uint256,uint256)
    client_group: ""
    contract_addr_path: ""
    contract_address: ""
    contract_args: ""
    contract_code: 608060405234801561000f575f80fd5b506105b18061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610034575f3560e01c80633219f22d14610038578063591d1e5f14610054575b5f80fd5b610052600480360381019061004d91906102fa565b610070565b005b61006e600480360381019061006991906102fa565b610124565b005b5f3373ffffffffffffffffffffffffffffffffffffffff164442181890505b815a111561011d57805a6040516020016100aa92919061036d565b604051602081830303815290604052805190602001205f1c90505f83826100d191906103c1565b90505f815f1b90505f60ff60f81b8883896040516020016100f594939291906104a1565b604051602081830303815290604052805190602001205f1c90505f813f90505050505061008f565b5050505050565b5f3373ffffffffffffffffffffffffffffffffffffffff164442181890505f5b825a11156101f757815a60405160200161015f92919061036d565b604051602081830303815290604052805190602001205f1c91505f848361018691906103c1565b90505f815f1b90505f60ff60f81b89838a6040516020016101aa94939291906104a1565b604051602081830303815290604052805190602001205f1c90505f813b90505f808211156101df5760208083035f853c5f5190505b85806101ea9061051b565b9650505050505050610144565b7f035333a4ae74d230759e13857d77957289fccc79bf0da2c0f9fd0df1d2f3dc82816040516102269190610562565b60405180910390a1505050505050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6102638261023a565b9050919050565b61027381610259565b811461027d575f80fd5b50565b5f8135905061028e8161026a565b92915050565b5f819050919050565b6102a681610294565b81146102b0575f80fd5b50565b5f813590506102c18161029d565b92915050565b5f819050919050565b6102d9816102c7565b81146102e3575f80fd5b50565b5f813590506102f4816102d0565b92915050565b5f805f806080858703121561031257610311610236565b5b5f61031f87828801610280565b9450506020610330878288016102b3565b9350506040610341878288016102e6565b9250506060610352878288016102e6565b91505092959194509250565b610367816102c7565b82525050565b5f6040820190506103805f83018561035e565b61038d602083018461035e565b9392505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f6103cb826102c7565b91506103d6836102c7565b9250826103e6576103e5610394565b5b828206905092915050565b5f7fff0000000000000000000000000000000000000000000000000000000000000082169050919050565b5f819050919050565b610436610431826103f1565b61041c565b82525050565b5f8160601b9050919050565b5f6104528261043c565b9050919050565b5f61046382610448565b9050919050565b61047b61047682610259565b610459565b82525050565b5f819050919050565b61049b61049682610294565b610481565b82525050565b5f6104ac8287610425565b6001820191506104bc828661046a565b6014820191506104cc828561048a565b6020820191506104dc828461048a565b60208201915081905095945050505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610525826102c7565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610557576105566104ee565b5b600182019050919050565b5f6020820190506105755f83018461035e565b9291505056fea2646970667358221220bfe3b4d0e28c46250eef82c04a4ec2bb93764e8b6f10e68c4a983f0acc68f1b964736f6c63430008160033
    contract_file: ""
    deploy_gas_limit: 2000000
    gas_limit: 0
    max_pending: 10
    max_wallets: 0
    random_amount: false
    random_target: false
    rebroadcast: 120
    refill_amount: 5000000000000000000
    refill_balance: 1000000000000000000
    refill_interval: 600
    seed: calltx-82713
    throughput: 1
    timeout: ""
    tip_fee: 2
    total_count: 0
- scenario: factorydeploytx
  name: Massive contract reading (preparation)
  description: Warmup scenario to deploy a massive amount of contracts with deterministic addresses via a factory
  config:
    base_fee: 20
    client_group: ""
    factory_address: ""
    gas_limit: 6000000
    init_code: 325f40185f52616000806020900369deadbeefcafebabedead90525ff3
    max_pending: 20
    max_wallets: 100
    rebroadcast: 120
    refill_amount: 5000000000000000000
    refill_balance: 1000000000000000000
    refill_interval: 600
    seed: factorydeploytx-120183
    start_salt: 0
    throughput: 20
    timeout: ""
    tip_fee: 2
    total_count: 0
    well_known_factory: true